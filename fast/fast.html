<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="Asciidoctor 0.1.4">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fast Pattern User Manual</title>
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }
audio, canvas, video { display: inline-block; }
audio:not([controls]) { display: none; height: 0; }
[hidden] { display: none; }
html { background: #fff; color: #000; font-family: sans-serif; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%; }
body { margin: 0; }
a:focus { outline: thin dotted; }
a:active, a:hover { outline: 0; }
h1 { font-size: 2em; margin: 0.67em 0; }
abbr[title] { border-bottom: 1px dotted; }
b, strong { font-weight: bold; }
dfn { font-style: italic; }
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }
mark { background: #ff0; color: #000; }
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }
pre { white-space: pre-wrap; }
q { quotes: "\201C" "\201D" "\2018" "\2019"; }
small { font-size: 80%; }
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }
sup { top: -0.5em; }
sub { bottom: -0.25em; }
img { border: 0; }
svg:not(:root) { overflow: hidden; }
figure { margin: 0; }
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }
legend { border: 0; padding: 0; }
button, input, select, textarea { font-family: inherit; font-size: 100%; margin: 0; }
button, input { line-height: normal; }
button, select { text-transform: none; }
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; cursor: pointer; }
button[disabled], html input[disabled] { cursor: default; }
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; padding: 0; }
input[type="search"] { -webkit-appearance: textfield; -moz-box-sizing: content-box; -webkit-box-sizing: content-box; box-sizing: content-box; }
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }
textarea { overflow: auto; vertical-align: top; }
table { border-collapse: collapse; border-spacing: 0; }
*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }
html, body { font-size: 100%; }
body { background: white; color: #222222; padding: 0; margin: 0; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }
a:hover { cursor: pointer; }
a:focus { outline: none; }
img, object, embed { max-width: 100%; height: auto; }
object, embed { height: 100%; }
img { -ms-interpolation-mode: bicubic; }
#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }
.left { float: left !important; }
.right { float: right !important; }
.text-left { text-align: left !important; }
.text-right { text-align: right !important; }
.text-center { text-align: center !important; }
.text-justify { text-align: justify !important; }
.hide { display: none; }
.antialiased, body { -webkit-font-smoothing: antialiased; }
img { display: inline-block; vertical-align: middle; }
textarea { height: auto; min-height: 50px; }
select { width: 100%; }
p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }
.subheader, #content #toctitle, .admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .videoblock > .title, .listingblock > .title, .literalblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title, .tableblock > caption { line-height: 1.4; color: #7a2518; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }
a { color: #005498; text-decoration: underline; line-height: inherit; }
a:hover, a:focus { color: #00467f; }
a img { border: none; }
p { font-family: inherit; font-weight: normal; font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: Georgia, "URW Bookman L", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; color: #ba3925; text-rendering: optimizeLegibility; margin-top: 1em; margin-bottom: 0.5em; line-height: 1.2125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #e99b8f; line-height: 0; }
h1 { font-size: 2.125em; }
h2 { font-size: 1.6875em; }
h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }
h4 { font-size: 1.125em; }
h5 { font-size: 1.125em; }
h6 { font-size: 1em; }
hr { border: solid #dddddd; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }
em, i { font-style: italic; line-height: inherit; }
strong, b { font-weight: bold; line-height: inherit; }
small { font-size: 60%; line-height: inherit; }
code { font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; color: #6d180b; }
ul, ol, dl { font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; list-style-position: outside; font-family: inherit; }
ul, ol { margin-left: 1.5em; }
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }
dl dt { margin-bottom: 0.3125em; font-weight: bold; }
dl dd { margin-bottom: 1.25em; }
abbr, acronym { text-transform: uppercase; font-size: 90%; color: #222222; border-bottom: 1px dotted #dddddd; cursor: help; }
abbr { text-transform: none; }
blockquote { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
blockquote cite { display: block; font-size: inherit; color: #555555; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #555555; }
blockquote, blockquote p { line-height: 1.6; color: #6f6f6f; }
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }
.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }
@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
.print-only { display: none !important; }
@media print { * { background: transparent !important; color: #000 !important; box-shadow: none !important; text-shadow: none !important; }
  a, a:visited { text-decoration: underline; }
  a[href]:after { content: " (" attr(href) ")"; }
  abbr[title]:after { content: " (" attr(title) ")"; }
  .ir a:after, a[href^="javascript:"]:after, a[href^="#"]:after { content: ""; }
  pre, blockquote { border: 1px solid #999; page-break-inside: avoid; }
  thead { display: table-header-group; }
  tr, img { page-break-inside: avoid; }
  img { max-width: 100% !important; }
  @page { margin: 0.5cm; }
  p, h2, h3, #toctitle, .sidebarblock > .content > .title { orphans: 3; widows: 3; }
  h2, h3, #toctitle, .sidebarblock > .content > .title { page-break-after: avoid; }
  .hide-on-print { display: none !important; }
  .print-only { display: block !important; }
  .hide-for-print { display: none !important; }
  .show-for-print { display: inherit !important; } }
table { background: white; margin-bottom: 1.25em; border: solid 1px #dddddd; }
table thead, table tfoot { background: whitesmoke; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: #222222; text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: #222222; }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f9f9f9; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.6; }
.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }
*:not(pre) > code { font-size: 0.9375em; padding: 1px 3px 0; white-space: nowrap; background-color: #f2f2f2; border: 1px solid #cccccc; -webkit-border-radius: 4px; border-radius: 4px; text-shadow: none; }
pre, pre > code { line-height: 1.4; color: inherit; font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; }
kbd.keyseq { color: #555555; }
kbd:not(.keyseq) { display: inline-block; color: #222222; font-size: 0.75em; line-height: 1.4; background-color: #F7F7F7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; margin: -0.15em 0.15em 0 0.15em; padding: 0.2em 0.6em 0.2em 0.5em; vertical-align: middle; white-space: nowrap; }
kbd kbd:first-child { margin-left: 0; }
kbd kbd:last-child { margin-right: 0; }
.menuseq, .menu { color: #090909; }
p a > code:hover { color: #561309; }
#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 0.9375em; padding-right: 0.9375em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }
#header { margin-bottom: 2.5em; }
#header > h1 { color: black; font-weight: normal; border-bottom: 1px solid #dddddd; margin-bottom: -28px; padding-bottom: 32px; }
#header span { color: #6f6f6f; }
#header #revnumber { text-transform: capitalize; }
#header br { display: none; }
#header br + span { padding-left: 3px; }
#header br + span:before { content: "\2013 \0020"; }
#header br + span.author { padding-left: 0; }
#header br + span.author:before { content: ", "; }
#toc { border-bottom: 3px double #ebebeb; padding-bottom: 1.25em; }
#toc > ul { margin-left: 0.25em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
#toc ul { list-style-type: none; }
#toctitle { color: #7a2518; }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; }
  #toc.toc2 { position: fixed; width: 20em; left: 0; top: 0; border-right: 1px solid #ebebeb; border-bottom: 0; z-index: 1000; padding: 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; }
  #toc.toc2 > ul { font-size: .95em; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1.25em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; }
  body.toc2.toc-right #toc.toc2 { border-right: 0; border-left: 1px solid #ebebeb; left: auto; right: 0; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; border-width: 0; -webkit-border-radius: 4px; border-radius: 4px; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }
#content #toc a { text-decoration: none; }
#content #toctitle { font-weight: bold; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-size: 1em; padding-left: 0.125em; }
#footer { max-width: 100%; background-color: #222222; padding: 1.25em; }
#footer-text { color: #dddddd; line-height: 1.44; }
.sect1 { padding-bottom: 1.25em; }
.sect1 + .sect1 { border-top: 3px double #ebebeb; }
#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; width: 1em; margin-left: -1em; display: block; text-decoration: none; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: '\00A7'; font-size: .85em; vertical-align: text-top; display: block; margin-top: 0.05em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #ba3925; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #a53221; }
.imageblock, .literalblock, .listingblock, .verseblock, .videoblock { margin-bottom: 1.25em; }
.admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .videoblock > .title, .listingblock > .title, .literalblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-align: left; font-weight: bold; }
.tableblock > caption { text-align: left; font-weight: bold; white-space: nowrap; overflow: visible; max-width: 0; }
table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }
.admonitionblock > table { border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #dddddd; color: #6f6f6f; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }
.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 4px; border-radius: 4px; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6, .exampleblock > .content p { color: #333333; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6 { line-height: 1; margin-bottom: 0.625em; }
.exampleblock > .content h1.subheader, .exampleblock > .content h2.subheader, .exampleblock > .content h3.subheader, .exampleblock > .content .subheader#toctitle, .sidebarblock.exampleblock > .content > .subheader.title, .exampleblock > .content h4.subheader, .exampleblock > .content h5.subheader, .exampleblock > .content h6.subheader { line-height: 1.4; }
.exampleblock.result > .content { -webkit-box-shadow: 0 1px 8px #d9d9d9; box-shadow: 0 1px 8px #d9d9d9; }
.sidebarblock { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; -webkit-border-radius: 4px; border-radius: 4px; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6, .sidebarblock p { color: #333333; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6 { line-height: 1; margin-bottom: 0.625em; }
.sidebarblock h1.subheader, .sidebarblock h2.subheader, .sidebarblock h3.subheader, .sidebarblock .subheader#toctitle, .sidebarblock > .content > .subheader.title, .sidebarblock h4.subheader, .sidebarblock h5.subheader, .sidebarblock h6.subheader { line-height: 1.4; }
.sidebarblock > .content > .title { color: #7a2518; margin-top: 0; line-height: 1.6; }
.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }
.literalblock > .content pre, .listingblock > .content pre { background: none; border-width: 1px 0; border-style: dotted; border-color: #bfbfbf; -webkit-border-radius: 4px; border-radius: 4px; padding: 0.75em 0.75em 0.5em 0.75em; word-wrap: break-word; }
.literalblock > .content pre.nowrap, .listingblock > .content pre.nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
.literalblock > .content pre > code, .listingblock > .content pre > code { display: block; }
@media only screen { .literalblock > .content pre, .listingblock > .content pre { font-size: 0.8em; } }
@media only screen and (min-width: 768px) { .literalblock > .content pre, .listingblock > .content pre { font-size: 0.9em; } }
@media only screen and (min-width: 1280px) { .literalblock > .content pre, .listingblock > .content pre { font-size: 1em; } }
.listingblock > .content { position: relative; }
.listingblock:hover code[class*=" language-"]:before { text-transform: uppercase; font-size: 0.9em; color: #999; position: absolute; top: 0.375em; right: 0.375em; }
.listingblock:hover code.asciidoc:before { content: "asciidoc"; }
.listingblock:hover code.clojure:before { content: "clojure"; }
.listingblock:hover code.css:before { content: "css"; }
.listingblock:hover code.groovy:before { content: "groovy"; }
.listingblock:hover code.html:before { content: "html"; }
.listingblock:hover code.java:before { content: "java"; }
.listingblock:hover code.javascript:before { content: "javascript"; }
.listingblock:hover code.python:before { content: "python"; }
.listingblock:hover code.ruby:before { content: "ruby"; }
.listingblock:hover code.scss:before { content: "scss"; }
.listingblock:hover code.xml:before { content: "xml"; }
.listingblock:hover code.yaml:before { content: "yaml"; }
.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }
.listingblock.terminal pre .command:not([data-prompt]):before { content: '$'; }
table.pyhltable { border: 0; margin-bottom: 0; }
table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; }
table.pyhltable td.code { padding-left: .75em; padding-right: 0; }
.highlight.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #dddddd; }
.highlight.pygments .lineno { display: inline-block; margin-right: .25em; }
table.pyhltable .linenodiv { background-color: transparent !important; padding-right: 0 !important; }
.quoteblock { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
.quoteblock blockquote { margin: 0 0 1.25em 0; padding: 0 0 0.5625em 0; border: 0; }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: -.25em; padding-bottom: 0.5625em; font-size: inherit; color: #555555; }
.quoteblock .attribution br { display: none; }
.quoteblock .attribution cite { display: block; margin-bottom: 0.625em; }
table thead th, table tfoot th { font-weight: bold; }
table.tableblock.grid-all { border-collapse: separate; border-spacing: 1px; -webkit-border-radius: 4px; border-radius: 4px; border-top: 1px solid #dddddd; border-bottom: 1px solid #dddddd; }
table.tableblock.frame-topbot, table.tableblock.frame-none { border-left: 0; border-right: 0; }
table.tableblock.frame-sides, table.tableblock.frame-none { border-top: 0; border-bottom: 0; }
table.tableblock td .paragraph:last-child p, table.tableblock td > p:last-child { margin-bottom: 0; }
th.tableblock.halign-left, td.tableblock.halign-left { text-align: left; }
th.tableblock.halign-right, td.tableblock.halign-right { text-align: right; }
th.tableblock.halign-center, td.tableblock.halign-center { text-align: center; }
th.tableblock.valign-top, td.tableblock.valign-top { vertical-align: top; }
th.tableblock.valign-bottom, td.tableblock.valign-bottom { vertical-align: bottom; }
th.tableblock.valign-middle, td.tableblock.valign-middle { vertical-align: middle; }
p.tableblock.header { color: #222222; font-weight: bold; }
td > div.verse { white-space: pre; }
ol { margin-left: 1.75em; }
ul li ol { margin-left: 1.5em; }
dl dd { margin-left: 1.125em; }
dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }
ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.625em; }
ul.unstyled, ol.unnumbered, ul.checklist, ul.none { list-style-type: none; }
ul.unstyled, ol.unnumbered, ul.checklist { margin-left: 0.625em; }
ul.checklist li > p:first-child > i[class^="icon-check"]:first-child, ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }
ul.checklist li > p:first-child > input[type="checkbox"]:first-child { position: relative; top: 1px; }
ul.inline { margin: 0 auto 0.625em auto; margin-left: -1.375em; margin-right: 0; padding: 0; list-style: none; overflow: hidden; }
ul.inline > li { list-style: none; float: left; margin-left: 1.375em; display: block; }
ul.inline > li > * { display: block; }
.unstyled dl dt { font-weight: normal; font-style: normal; }
ol.arabic { list-style-type: decimal; }
ol.decimal { list-style-type: decimal-leading-zero; }
ol.loweralpha { list-style-type: lower-alpha; }
ol.upperalpha { list-style-type: upper-alpha; }
ol.lowerroman { list-style-type: lower-roman; }
ol.upperroman { list-style-type: upper-roman; }
ol.lowergreek { list-style-type: lower-greek; }
.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }
td.hdlist1 { padding-right: .8em; font-weight: bold; }
td.hdlist1, td.hdlist2 { vertical-align: top; }
.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }
.colist > table tr > td:first-of-type { padding: 0 .8em; line-height: 1; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }
.qanda > ol > li > p > em:only-child { color: #00467f; }
.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }
.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }
.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }
a.image { text-decoration: none; }
span.footnote, span.footnoteref { vertical-align: super; font-size: 0.875em; }
span.footnote a, span.footnoteref a { text-decoration: none; }
#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -.25em 0 .75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em; line-height: 1.3; font-size: 0.875em; margin-left: 1.2em; text-indent: -1.2em; margin-bottom: .2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }
#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }
.gist .file-data > table { border: none; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }
div.unbreakable { page-break-inside: avoid; }
.big { font-size: larger; }
.small { font-size: smaller; }
.underline { text-decoration: underline; }
.overline { text-decoration: overline; }
.line-through { text-decoration: line-through; }
.aqua { color: #00bfbf; }
.aqua-background { background-color: #00fafa; }
.black { color: black; }
.black-background { background-color: black; }
.blue { color: #0000bf; }
.blue-background { background-color: #0000fa; }
.fuchsia { color: #bf00bf; }
.fuchsia-background { background-color: #fa00fa; }
.gray { color: #606060; }
.gray-background { background-color: #7d7d7d; }
.green { color: #006000; }
.green-background { background-color: #007d00; }
.lime { color: #00bf00; }
.lime-background { background-color: #00fa00; }
.maroon { color: #600000; }
.maroon-background { background-color: #7d0000; }
.navy { color: #000060; }
.navy-background { background-color: #00007d; }
.olive { color: #606000; }
.olive-background { background-color: #7d7d00; }
.purple { color: #600060; }
.purple-background { background-color: #7d007d; }
.red { color: #bf0000; }
.red-background { background-color: #fa0000; }
.silver { color: #909090; }
.silver-background { background-color: #bcbcbc; }
.teal { color: #006060; }
.teal-background { background-color: #007d7d; }
.white { color: #bfbfbf; }
.white-background { background-color: #fafafa; }
.yellow { color: #bfbf00; }
.yellow-background { background-color: #fafa00; }
span.icon > [class^="icon-"], span.icon > [class*=" icon-"] { cursor: default; }
.admonitionblock td.icon [class^="icon-"]:before { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #005498; color: #003f72; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }
.conum { display: inline-block; color: white !important; background-color: #222222; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; width: 20px; height: 20px; font-size: 12px; font-weight: bold; line-height: 20px; font-family: Arial, sans-serif; font-style: normal; position: relative; top: -2px; letter-spacing: -1px; }
.conum * { color: white !important; }
.conum + b { display: none; }
.conum:after { content: attr(data-value); }
.conum:not([data-value]):empty { display: none; }
.literalblock > .content > pre, .listingblock > .content > pre { -webkit-border-radius: 0; border-radius: 0; }

</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Fast Pattern User Manual</h1>
<span id="author" class="author">Christopher Alfeld</span><br>
<span id="email" class="email"><a href="mailto:calfeld@qualys.com">calfeld@qualys.com</a></span><br>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#_fast_pattern_syntax">Fast Pattern Syntax</a></li>
<li><a href="#_using_fast_patterns">Using Fast Patterns</a></li>
<li><a href="#_suggest_rb">suggest.rb</a></li>
<li><a href="#_advanced_usage">Advanced Usage</a></li>
<li><a href="#_performance_notes">Performance Notes</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The IronBee Fast Pattern system as an upcoming system for improved rule performance.  It allows certain rules to be selected for evaluation in a manner that is significantly faster than the default process.  In particular, properly setup, fast pattern rules that are not evaluated impose near-zero time cost.  In contrast, in normal IronBee, every rule is evaluated and thus imposed some time cost on every transaction.  The system does use more space (RAM) than default and should be viewed as a space/time trade-off.</p>
</div>
<div class="paragraph">
<p>The system works by attaching one or more fast patterns to a rule.  The rule will only be evaluated if the fast pattern appears in the input.  It is important to note that a rule may still evaluate to false.  Typically, a fast pattern represents a string (or set of strings) that must be present in the input.  For example, a rule for request headers that depends on the regular expression <code>^Foo:</code> could have a fast pattern of <code>Foo:</code>, in which case it would only be evaluated if <em>Foo:</em> was present somewhere in the header data.  If that occurrence was <code>Content-Type: Foo:</code>, then the rule would evaluate to false as the regexp would not match.</p>
</div>
<div class="paragraph">
<p>An important constraint on fast pattern rules is that the order they execute in is not guaranteed.  Thus, any rule that depends on another rule in the same phase or that is depended on by another rule in the same phase should not use fast patterns.  The final constraint is that fast patterns do not work well with transformations.</p>
</div>
<div class="paragraph">
<p>Internally, all fast patterns for a phase are compiled into an IronAutomata automata.  At each phase, the automata is executed and searches for the patterns as substrings in the input.  For any patterns found, the associated rules are then evaluated.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_fast_pattern_syntax">Fast Pattern Syntax</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The fast pattern syntax is that of the IronAutomata Aho-Corasick patterns.  The syntax, unlike regular expressions, only allows fixed width expressions.  It provides operators for escaping, e.g., <code>\e</code> for escape, and for character sets, e.g., <code>\l</code> for any lower case character.  For the latest syntax, run <code>ac_generator --help</code> from IronAutomata.  The result as of this writing is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Patterns provide a variety of fixed width operators that are shortcuts for
a byte or span of bytes.  E.g., "foo\dbar" is a pattern for "foo0bar",
"foo1bar", ..., "foo9bar".

Single Shortcuts:
- \\ -- Backslash.
- \t -- Horizontal tab.
- \v -- Vertical tab.
- \n -- New line
- \r -- Carriage return.
- \f -- Form feed.
- \0 -- Null.
- \e -- Escape.

Parameterized Single Shortcuts:
- \^X -- Control character, where X is A-Z, [, \, ], ^, _, or ?.
- \xXX -- Byte XX in hex.
- \iX -- Match lower case of X and upper case of X where X is A-Za-z.

Multiple Shortcuts:
- \d -- Digit -- 0-9
- \D -- Non-Digit -- all but 0-9
- \h -- Hexadecimal digit -- A-Fa-f0-9
- \w -- Word Character -- A-Za-z0-9
- \W -- Non-Word Character -- All but A-Za-z0-9
- \a -- Alphabetic character -- A-Za-z
- \l -- Lowercase letters -- a-z
- \u -- Uppercase letters -- A-Z
- \s -- White space -- space, \t\r\n\v\f
- \S -- Non-white space -- All but space, \t\r\n\v\f
- \$ -- End of line -- \r\f
- \p -- Printable character, ASCII hex 20 through 7E.
- \. -- Any character.

Union Shortcuts:
- [...] -- Union of all shortcuts inside brackets.  Hyphens are treated
           differently in unions.  A hyphen must either appear at the
           beginning of the union or as part of a range A-B where A &lt; B.
           A and B may be single shortcuts.  An initial hyphen indicates
           that a hyphen should be part of the union.
- [^...] -- As above, but negated.</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_fast_patterns">Using Fast Patterns</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Step 1</strong>: Add <code>fast:</code> modifiers to your rules.</p>
</div>
<div class="paragraph">
<p>Look for rules that require a certain substring in order to be meaningful.  Add <code>fast:substring</code> to those rules.  For more advanced use, specify AC patterns (see previous section).  For example, to require <code>foo</code> in a case insensitive manner, use <code>fast:\if\io\io</code>.</p>
</div>
<div class="paragraph">
<p>If there is no single required substring but instead a small number of alternatives, you can use multiple fast modifiers.  E.g., for a regular expression <code>foo|bar</code>, consider <code>fast:foo fast:bar</code>.</p>
</div>
<div class="paragraph">
<p>See the next section for a way to largely automate this task.</p>
</div>
<div class="paragraph">
<p><strong>Step 2</strong>: Build the automata.</p>
</div>
<div class="paragraph">
<p>In order for IronBee to take advantage of fast modifiers, it needs the corresponding automata.  This automata is an IronAutomata Eudoxus file with specific metadata.  The easiest way to build it is to run <code>fast/build.rb</code> (currently this must be run in the <strong>object tree</strong> <code>fast</code> directory) with a single argument specifying the rules file.  It will generate a bunch of build artifacts, including a <code>.e</code> file suitable for loading into IronBee.  The script will work with Waggle rule files as well so long as they end in <code>.lua</code> or <code>.waggle</code> and the <code>ruby-lua</code> gem is installed.</p>
</div>
<div class="paragraph">
<p>Note that you must be run <code>build.rb</code> on a platform of the same endianness as where you intend to run IronBee.</p>
</div>
<div class="paragraph">
<p>Here is an example run:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>obj/fast&gt; ../../ironbee/fast/build.rb test.txt
Extracting rules from test.txt to test.txt.manifest
  .../fast/extract.rb
Generating AC automata from test.txt.manifest to test.txt.automata
  ./generate
Optimizing automata from test.txt.automata to test.txt.optimized
  ../automata/bin/optimize --translate-nonadvancing-structural
Translate Nonadvancing [structural]: 6
Compiling optimized from test.txt.optimized to test.txt.e
  ../automata/bin/ec -i test.txt.automata -o test.txt.e -h 0.5
bytes            = 1993
id_width         = 2
align_to         = 1
high_node_weight = 0.5
ids_used         = 489
padding          = 0
low_nodes        = 177
low_nodes_bytes  = 1361
high_nodes       = 1
high_nodes_bytes = 77
pc_nodes         = 2
pc_nodes_bytes   = 16
bytes @ 1        = 1504
bytes @ 2        = 1993
bytes @ 4        = 2971
bytes @ 8        = 4927</pre>
</div>
</div>
<div class="paragraph">
<p>During this run the following files were created:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>test.txt.manifest</code>: The patterns and rule ids.  Human readable.</p>
</li>
<li>
<p><code>test.txt.automata</code>: The initial automata.  This automata can be viewed as a GraphViz dot file via <code>automata/bin/to_dot</code>.</p>
</li>
<li>
<p><code>test.txt.optimized</code>: The automata after some optimizations.  This automata can also be viewed via <code>to_dot</code> but may be more confusing.</p>
</li>
<li>
<p><code>test.txt.e</code>: The result of compiling <code>test.txt.optimized</code> via the Eudoxus Compiler (<code>ec</code>).  This file is what you will load into IronBee.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note that <code>bytes = 1993</code> line.  This line shows the space (RAM) cost of using fast patterns over normal IronBee.</p>
</div>
<div class="paragraph">
<p><strong>Step 3</strong>: Tell IronBee about the automata.</p>
</div>
<div class="paragraph">
<p>IronBee must be told to use the fast pattern system and about the automata you built in step 2.  Make sure you load the <code>fast</code> module.  Then use the <code>FastAutomata</code> directive to provide the path to the <code>.e</code> file you built in step 2.</p>
</div>
<div class="paragraph">
<p>At present, you should use a single automata built from every fast pattern rule, regardless of phase or context.  The fast pattern system will filter the results of the automata execution to only evaluate rules appropriate to the current context and phase.  The current assumption is that a single automata plus filtering is better choice in terms of space and time than per-context/phase automata.  This assumption may be incorrect or such usage may be too onerous to users.  As such, this behavior may change in the future.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_suggest_rb">suggest.rb</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overview">Overview</h3>
<div class="paragraph">
<p>There is a script, <code>fast/suggest.rb</code> which takes rules on standard in and outputs the rules to standout with additional comments suggesting fast patterns based on regular expressions in the rule.  It requires the <code>regexp_parser</code> gem which can be installed via <code>gem install regexp_parser</code>.</p>
</div>
<div class="paragraph">
<p>Comments will generally be of the form:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># FAST RE: ...
# FAST Suggest: ...
# FAST Result Table:
# FAST ...</pre>
</div>
</div>
<div class="paragraph">
<p>Followed by the rule the comments apply to.</p>
</div>
<div class="paragraph">
<p>Result tables will only be displayed for certain regular expressions (see below).</p>
</div>
<div class="paragraph">
<p>The RE comment will display the regular expression of the rule that the suggestion and result table apply to.  Rules containing multiple regular expressions will have multiple comment sets.</p>
</div>
<div class="paragraph">
<p>The Suggest comment display what it believes is the best fast pattern settings for that regular expression.  In most cases, you should check the suggestion for sanity and then copy the modifiers to the rule.</p>
</div>
<div class="paragraph">
<p>The Result table displays the complete set of suggestions that the suggestion code found.  It is formatted as a boolean expression.  Each line is a ANDed clause of patterns and all the lines are joined together with OR.  The fast system evaluates a rule if any of the fast patterns for that rule are found.  As such, there is no way to specify the AND relationship.  As such, to generate fast patterns for the rule, a single pattern from each line needs to be chosen and added as a fast modifier.  The Suggest line is simply one such choice that the suggestion code believes is the best.</p>
</div>
<div class="paragraph">
<p>Suggest can also be used with Lua/Waggle rules.  Pass <code>--lua</code> in as an argument to <code>suggest.rb</code>.  It can also be used directly with regexps: pass <code>--rx</code> in as an argument and provide one regexp per line on stdin.</p>
</div>
</div>
<div class="sect2">
<h3 id="_suggestions">Suggestions</h3>
<div class="paragraph">
<p>It is important to check the suggestions for sanity for two reasons.  First, this code is in an early state and may get things wrong.  Second, if your regular expression is incorrect, this may be obvious in the patterns.  For example, consider the regular expression:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>HeaderName:\s*Value1|Value2</pre>
</div>
</div>
<div class="paragraph">
<p>The comments are:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># FAST RE: HeaderName:\s*Value1|Value2
# FAST Suggest: "fast:HeaderName:" "fast:Value2"
# FAST Result Table:
# FAST ( Value1 AND HeaderName: ) OR
# FAST ( Value2 )</pre>
</div>
</div>
<div class="paragraph">
<p>The lack of Value1 in the suggestion suggests something is awry.  Further investigation reveals the problem: the regular expression is equivalent to</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(?:HeaderName:\s*Value1)|(?:Value2)</pre>
</div>
</div>
<div class="paragraph">
<p>instead of the intended</p>
</div>
<div class="listingblock">
<div class="content">
<pre>HeaderName:\s*(?:Value1|Value2)</pre>
</div>
</div>
<div class="paragraph">
<p>Correcting it changes the comment to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># FAST RE: HeaderName:\s*(?:Value1|Value2)
# FAST Suggest: "fast:HeaderName:"
# FAST Result Table:
# FAST ( Value1 AND HeaderName: ) OR
# FAST ( Value2 AND HeaderName: )</pre>
</div>
</div>
<div class="paragraph">
<p>A much more reasonable suggestion and table.</p>
</div>
</div>
<div class="sect2">
<h3 id="_rx_mode">RX Mode</h3>
<div class="paragraph">
<p>The suggest.rb script can be run as <code>suggest.rb --rx</code> in which case each line is treated as a single regular expression (in normal mode, the input is treated as a rules file).  This mode can be useful for development and debugging.</p>
</div>
</div>
<div class="sect2">
<h3 id="_exceptions">Exceptions</h3>
<div class="paragraph">
<p>In addition to the comments described above, you may see</p>
</div>
<div class="listingblock">
<div class="content">
<pre># FAST Exception: ...</pre>
</div>
</div>
<div class="paragraph">
<p>comments.  These either indicate a bug in the suggestion code or a known limitation.  Please report them to the author.</p>
</div>
</div>
<div class="sect2">
<h3 id="_why_no_comments">Why no comments?</h3>
<div class="paragraph">
<p>Some rules that contain regular expressions will not receive comments.  There are three major reasons for this:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The rule already has a fast modifier.</p>
</li>
<li>
<p>The rule has a transformation modifier, <code>t:</code>.  At present, the fast system has no support for transformations.</p>
</li>
<li>
<p>The suggestion code could not find a reasonable fast pattern for the regexp.  Very short patterns may not be worthwhile and are not suggested.  If any row of the result table contains only such short patterns, then there is no suggestion.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_hard_limitations">Hard Limitations</h3>
<div class="paragraph">
<p>The suggestion code understands a large portion of regular expressions.  However, there are a few notable limitations.  Some of these are due to limitations in the third party regular expression parser.  Others may be solved in the future.  See <code>re_to_ac.rb</code> for details.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>\cX is not supported for X non-alpha.</p>
</li>
<li>
<p>Only the i option is supported.</p>
</li>
<li>
<p>No unicode support.</p>
</li>
<li>
<p>Many pcre specific features are not supported.</p>
</li>
<li>
<p>Back references are not supported.</p>
</li>
<li>
<p>Stacked quantifiers, e.g., <code>x{2}{3}</code>, will result in suboptimal patterns.  Add non-capturing groups to fix, e.g., <code>(?:x{2}){3}</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_soft_limitations">Soft Limitations</h3>
<div class="paragraph">
<p>The suggestion code can handle quantifiers and alternations, but can have poor results in certain combinations.  This behavior is due to a fundamental mismatch between the fixed width nature of AC patterns and the variable width nature of quantifiers and alternations.</p>
</div>
<div class="paragraph">
<p>Expressions with many alternations will be ignored, e.g., <code>a|b|c|d|e|f|g</code>.</p>
</div>
<div class="paragraph">
<p>Expressions with many repetitions will be treated as having fewer, e.g., <code>a{1000}</code> will be treated as shorter, e.g., <code>a{10}</code>.</p>
</div>
<div class="paragraph">
<p>Expressions quantifying alterations may result in ridiculous result tables, e.g., <code>(a|b){100}</code> is highly inadvisable.</p>
</div>
<div class="paragraph">
<p>Try to avoid combining quantifiers with high minimums and alternations.  When using alternations, try to pull common parts out.  For example, use <code>foo(?:bar|baz)</code> instead of <code>foobar|foobaz</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_to_learn_more">To Learn More</h3>
<div class="paragraph">
<p>To learn more, including an overview of how the suggestion code works, look at the comments and code in <code>re_to_ac.rb</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_advanced_usage">Advanced Usage</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Advanced users may want to tune their automata further.  Additional optimizations can be attempted and different space/time tradeoffs taken.  Users should be familiar with IronAutomata and the options available, especially high node weight in <code>ec</code>.  The initial automata can be generated from the manifest via the <code>fast/generate</code>.  That automata can then be optimized and compiled in whatever manner desired so long as an equivalent Eudoxus automata is the end result.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_performance_notes">Performance Notes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The underlying automata should execute in <code>O(n)</code> time where <code>n</code> is the size of the transaction data.  Given an automata execution that results in <code>k</code> rules, an additional <code>O(k)</code> time is needed to filter the rules down to the <code>k' &lt;= k</code> rules appropriate to the phase and context.  Finally, <code>O(k')</code> time is needed to evaluate and potentially execute the rules.  In contrast, default IronBee uses <code>O(m)</code> time (where <code>m</code> is the number of rules in the current phase and context) to select, evaluate, and execute rules.  Thus fast pattern rules provide an advantage where <code>m</code> is large and <code>k</code> is small.  Such a situation occurs when there are many specific rules.  If you have a small rule set, or most of your rules are very general, default IronBee is likely the better choice.</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2014-07-17 11:17:15 CDT
</div>
</div>
</body>
</html>